(function($){var LoadTab=function($element,time){var self=this;time=time||100;this.$element=$element;this.tabButtons=$element.find('a[data-toggle="tab"]');this.storageKey="tab-href-"+self.hashCode(location.href);this.bindEvents();setTimeout(function(){self.switchTab();},time);};LoadTab.prototype={bindEvents:function(){var self=this;this.tabButtons.on("click",function(e){window.localStorage.setItem(self.storageKey,$(e.target).attr("href"));});},activateTab:function(href){var $el=this.$element.find('a[data-toggle="tab"]a[href*='+href+"]");$el.tab("show");},hasTab:function(href){return this.$element.find('a[data-toggle="tab"]a[href*='+href+"]").length;},switchTab:function(){if(localStorage.getItem("tab-href")){if(!this.hasTab(localStorage.getItem(this.storageKey))){localStorage.removeItem(this.storageKey);return true;}this.$element.find('a[data-toggle="tab"]').parent().removeClass("active");var tabhref=localStorage.getItem(this.storageKey);this.activateTab(tabhref);var seperatorIndex=tabhref.indexOf("-");if(seperatorIndex!==-1){var singular=tabhref.substring(0,seperatorIndex);var plural=singular+"s";this.activateTab(plural);}}},hashCode:function(text){var hash=0;var word;if(text.length==0){return hash;}for(var i=0;i<text.length;i++){word=text.charCodeAt(i);hash=((hash<<5)-hash)+word;hash=hash&hash;}return hash;}};window.LoadTab=LoadTab;})(jQuery);