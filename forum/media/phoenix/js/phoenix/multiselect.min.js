(function($){var plugin='multiselect',defaultOptions={duration:100},PhoenixMultiSelect=function($element,options){var self=this;this.form=$element;this.boxes=$element.find('input.grid-checkbox[type=checkbox]');this.last=false;this.options=$.extend({},defaultOptions,options);this.boxes.click(function(event){self.select(this,event)})};PhoenixMultiSelect.prototype={select:function(element,event){if(!this.last){this.last=element;return};if(event.shiftKey){var self=this,start=this.boxes.index(element),end=this.boxes.index(this.last),chs=this.boxes.slice(Math.min(start,end),Math.max(start,end)+1);$.each(chs,function(i,e){if(self.options.duration){setTimeout(function(){e.checked=self.last.checked},(self.options.duration/chs.length)*i)}else e.checked=self.last.checked})};this.last=element}};$.fn[plugin]=function(options){if(!this.data('phoenix.'+plugin))this.data('phoenix.'+plugin,new PhoenixMultiSelect(this,options));return this.data('phoenix.'+plugin)}})(jQuery)